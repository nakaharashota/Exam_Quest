<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>満点クエスト 〜新4年生漢字編〜</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="card">
    <h1>満点クエスト</h1>
    <div class="sub-title">〜新4年生漢字編〜</div>

    <div id="category-area">
        <div class="mode-selector-top">
            <p>難易度をえらぶ</p>
            <div class="mode-tabs">
                <button id="tab-easy" class="tab-btn" onclick="changeMode('easy')">かんたん</button>
                <button id="tab-normal" class="tab-btn" onclick="changeMode('normal')">ふつう</button>
                <button id="tab-hard" class="tab-btn" onclick="changeMode('hard')">むずい</button>
                <button id="tab-oni" class="tab-btn" onclick="changeMode('oni')">おに</button>
            </div>
        </div>

        <p style="text-align:center; margin: 20px 0 10px;">修行する内容を選んでね</p>
        <div id="category-buttons">
            <button class="btn-primary btn-d1" onclick="selectCategory('d1')">① 読みの試練（4択）</button>
            <button class="btn-primary btn-d2" onclick="selectCategory('d2')">② 書きの関所（ノート）</button>
            <button class="btn-primary btn-d3" onclick="selectCategory('d3')">③ 使い分けの迷宮（4択）</button>
            <button class="btn-primary btn-d4" onclick="selectCategory('d4')">④ 熟語の試練（4択）</button>
            <button class="btn-primary btn-d5" onclick="selectCategory('d5')">⑤ 究極の使い分け（4択）</button>
        </div>

        <div class="reset-link"><a href="#" onclick="resetData()">進捗をリセット</a></div>
    </div>

    <div id="level-area" style="display:none;">
        <button style="background:#eee;" onclick="showCategory()">← もどる</button>
        <p id="level-title" style="text-align:center; font-weight:bold; margin-top:15px;"></p>
        <div id="level-buttons"></div>
    </div>

    <div id="quiz-area" style="display:none;">
        <div class="timer-container"><div id="timer-bar"></div></div>
        <div id="progress" style="text-align:right; color:#888;"></div>
        <div id="guide" class="guide-msg"></div>
        <div id="question" class="question-box"></div>
        <div id="choices-area"></div>
        <div id="feedback" class="feedback" style="display:none;"><div id="result-text"></div></div>
        <button id="next-btn" class="btn-primary" style="display:none;">次へ進む</button>
    </div>

    <div id="selfcheck-area" style="display:none;">
        <h2 style="text-align:center;">答え合わせ</h2>
        <div id="answer-list" style="margin-bottom:20px;"></div>
        <div style="text-align:center; border-top: 2px solid #eee; padding-top:20px;">
            <p>何問正解だった？</p>
            <input type="number" id="self-count" min="0" max="5" value="0"> 問 / 5問
            <button class="btn-primary" onclick="submitSelfScore()">点数を確認する</button>
        </div>
    </div>

    <div id="score-area" style="display:none;">
        <h2 style="text-align:center;">結果発表</h2>
        <div id="final-score" style="font-size:3rem; text-align:center; color:#1a73e8; margin:20px 0;"></div>
        <div id="clear-msg" style="text-align:center; margin-bottom:20px; font-weight:bold; color:#1e8e3e;"></div>
        <button class="btn-primary" id="retry-btn">もう一度挑戦</button>
        <button class="btn-primary" id="next-lv-btn" style="background-color:#34a853;">次のレベルへ</button>
        <button style="background:#e8f0fe; color:#1a73e8;" onclick="showLevel()">レベル選択に戻る</button>
        <button style="background:#eee;" onclick="showCategory()">カテゴリ選択に戻る</button>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>